<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Week 2 Assignment 2 Personal Portfolio</title>

  <!-- Favicon -->
  <link rel="icon" href="./assets/img/me.jpg">

  <!-- Style -->
  <link rel="stylesheet" href="./assets/style.css">

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet">
</head>

<body>

  <!-- ====== -->
  <!-- HEADER -->
  <!-- ====== -->
  <header>
    <div class="header">
      <h1>Silas Boutwell</h1>
    </div>
    <section class="hero">
      <div class="hero-text">
        <h2>I'm a <span id="typed"
            data-typed-items="developer, coder, designer, musician, songwriter, freelancer"></span><span id="caret"
            class="caret" aria-hidden="true"></span></h2>
        <p>Blending biblical narrative with personal resilience.</p>
      </div>
    </section>
  </header>

  <main id="main">
    <section id="about">
      <h2>About Me</h2>
      <p>I write songs that encourage perseverance and spiritual trust, often drawing from stories like Ruth to connect
        personal and universal struggles.</p>
    </section>

    <section id="work">
      <h2>Featured Work</h2>
      <div class="card">
        <h3>Don't Pack, Pray</h3>
        <p>A song about trusting God through adversity. Road-trip imagery meets spiritual conviction.</p>
      </div>
      <!-- Add more cards as needed -->
    </section>

    <section id="contact">
      <h2>Contact</h2>
      <p>Let's collaborate or connect! Reach me at <a href="mailto:silas@example.com">silas@example.com</a></p>
    </section>
  </main>

  <!-- ====== -->
  <!-- NAVIGATION -->
  <!-- ====== -->
  <nav>
    <div class="nav-container">
      <span class="nav-item"><a class="nav-link" href="#about">About</a></span>
      <span class="nav-item"><a class="nav-link" href="#work">Work</a></span>
      <span class="nav-item"><a class="nav-link" href="#contact">Contact</a></span>
    </div>
  </nav>

  <!-- ====== -->
  <!-- FOOTER -->
  <!-- ====== -->
  <footer>
    <p>Â© 2025 Silas Boutwell. All rights reserved.</p>
  </footer>

</body>

<!-- Typing effect script -->
<script>
  (function () {
    const typedEl = document.getElementById('typed');
    const caretEl = document.getElementById('caret');
    if (!typedEl) return;

    const items = (typedEl.getAttribute('data-typed-items') || '')
      .split(',')
      .map(s => s.trim())
      .filter(Boolean);

    // Configuration
    const typeSpeed = 110;      // ms per character
    const backspaceSpeed = 80; // ms per character when deleting
    const holdDelay = 1400;    // ms to hold the full word before deleting

    let itemIndex = 0;
    let charIndex = 0;
    let deleting = false;

    function tick() {
      const current = items[itemIndex] || '';
      if (!deleting) {
        // Type forward
        charIndex = Math.min(charIndex + 1, current.length);
        typedEl.textContent = current.slice(0, charIndex);
        if (charIndex === current.length) {
          // Finished typing, flash caret briefly then schedule delete after holdDelay
          caretEl.classList.add('flash');
          setTimeout(() => {
            caretEl.classList.remove('flash');
            // wait a bit with the full word visible, then start deleting
            setTimeout(() => {
              deleting = true;
              setTimeout(tick, backspaceSpeed);
            }, holdDelay);
          }, 400);
          return;
        }
        setTimeout(tick, typeSpeed);
      } else {
        // Deleting
        charIndex = Math.max(charIndex - 1, 0);
        typedEl.textContent = current.slice(0, charIndex);
        if (charIndex === 0) {
          deleting = false;
          itemIndex = (itemIndex + 1) % items.length;
          setTimeout(tick, typeSpeed);
          return;
        }
        setTimeout(tick, backspaceSpeed);
      }
    }

    // Kick off after a short delay so hero is visible
    setTimeout(tick, 700);
  })();
</script>

<!-- Navigation active-state script -->
<script>
  (function() {
    // Helper: map section id to nav-link
    const navLinks = Array.from(document.querySelectorAll('.nav-link'));
    const sections = navLinks
      .map(a => {
        const id = a.getAttribute('href')?.slice(1);
        return id ? document.getElementById(id) : null;
      })
      .filter(Boolean);

    function clearActive() {
      navLinks.forEach(a => a.classList.remove('active'));
      document.querySelectorAll('.nav-item').forEach(el => el.classList.remove('active'));
    }

    // Click handling: set active on click and smooth scroll behavior
    navLinks.forEach(a => {
      a.addEventListener('click', (e) => {
        clearActive();
        a.classList.add('active');
        const parent = a.closest('.nav-item');
        if (parent) parent.classList.add('active');
        // let anchor do its default jump/scroll; optionally smooth scroll
        e.preventDefault();
        const id = a.getAttribute('href').slice(1);
        const target = document.getElementById(id);
        if (target) {
          window.scrollTo({ top: target.offsetTop - 20, behavior: 'smooth' });
        }
      });
    });

    // IntersectionObserver to update active as user scrolls
    if ('IntersectionObserver' in window && sections.length) {
      const obsOptions = { root: null, rootMargin: '-40% 0px -40% 0px', threshold: 0 };
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            const id = entry.target.id;
            const link = document.querySelector(`.nav-link[href="#${id}"]`);
            if (link) {
              clearActive();
              link.classList.add('active');
              const parent = link.closest('.nav-item');
              if (parent) parent.classList.add('active');
            }
          }
        });
      }, obsOptions);

      sections.forEach(s => observer.observe(s));
    }
  })();
</script>

</html>